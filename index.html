<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Motopeças</title>
<link rel="stylesheet" href="styles.css" />
</head>
<body>
<header>
    <div class="logo-container">
        <img src="logo.PNG" alt="Motopeças" class="logo" />
        <h1>Motopeças</h1>
    </div>
    <nav>
        <ul>
            <li><a href="#products">Produtos</a></li>
            <li><a href="#location">Localização</a></li>
            <li><a href="#contact">Contato</a></li>
        </ul>
    </nav>
</header>

<main>
    <section id="products">
        <h2>Nossos Produtos</h2>

        <div id="search-bar-container">
            <input type="text" id="search-input" placeholder="Pesquisar produtos..." />
            <button id="search-button">Buscar</button>
        </div>

        <div class="products-container" id="products-container">
            <!-- Produtos via JS -->
        </div>
    </section>

    <section id="location">
        <h2>Onde nos encontrar</h2>
        <div class="map-container" style="text-align:center;">
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3656.929054470528!2d-46.63610828497596!3d-23.547451984688354!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94ce59bc31e1ce11%3A0x1e350ae4a7f54603!2sPaulista%20Avenue!5e0!3m2!1sen!2sbr!4v1683027969080!5m2!1sen!2sbr"
                width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
            <p>Endereço: Rua das Motos, 123, São Paulo, SP</p>
        </div>
    </section>

    <section id="contact">
        <h2>Contato</h2>
        <div class="contact-content" style="max-width:800px; margin:auto;">
            <div class="contact-text">
                <h3>Nossa História</h3>
                <p>A Motopeças foi fundada em 2005 com o objetivo de fornecer peças e acessórios de alta qualidade para motocicletas. Desde então, nos dedicamos a oferecer produtos confiáveis e um atendimento excepcional ao cliente.</p>
                <h3>Missão</h3>
                <p>Nosso objetivo é garantir que cada motociclista tenha acesso às melhores peças e acessórios, garantindo segurança e performance para suas motos.</p>
                <h3>Visão</h3>
                <p>Ser a loja de peças e acessórios para motocicletas mais confiável e recomendada no Brasil, reconhecida pela qualidade de nossos produtos e pela excelência em nosso atendimento.</p>
                <h3>Valores</h3>
                <ul>
                    <li>Qualidade: Oferecer produtos que atendam aos mais altos padrões de qualidade.</li>
                    <li>Comprometimento: Estar sempre comprometidos com as necessidades dos nossos clientes.</li>
                    <li>Transparência: Manter uma comunicação aberta e honesta com nossos clientes e parceiros.</li>
                    <li>Inovação: Buscar continuamente novas soluções e produtos para melhorar a experiência dos nossos clientes.</li>
                </ul>
                <a href="https://api.whatsapp.com/send?phone=554797318723&text=Olá,%20como%20posso%20ajudar?" target="_blank" class="btn-add-cart" style="text-decoration:none; display:inline-block; margin-top:1rem;">Fale Conosco no WhatsApp</a>
            </div>
        </div>
    </section>
</main>

<aside id="cart-drawer" aria-hidden="true">
    <header>
        <h2>Carrinho</h2>
        <button id="cart-close-btn" aria-label="Fechar carrinho">&times;</button>
    </header>
    <ul id="cart-items">
        <!-- Itens do carrinho -->
    </ul>
    <button id="send-order">Finalizar Compra pelo WhatsApp</button>
</aside>

<button id="cart-icon-btn" aria-label="Abrir carrinho">
    <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M7 18c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm10 0c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm-13.334-2l1.4-8h15.567l1.333 6H8.566l-.2 1H20v2H6.666z"/>
    </svg>
</button>

<footer>
    <p>&copy; 2025 Motopeças. Todos os direitos reservados. | Telefone para pedidos: <a href="tel:+5547">+55 </a></p>
</footer>

<script>
    const products = [
        { title: "Pneu Dianteiro", description: "Pneu de alta durabilidade para motos esportivas.", img: "img/pneu dianteiro.jpg", price: 249.90 },
        { title: "Kit Relação", description: "Kit completo de relação para motocicletas.", img: "img/kit relação.png", price: 189.99 },
        { title: "Óleo de Motor", description: "Óleo sintético de alta performance para motores de motocicletas.", img: "img/oleo de motor.png", price: 79.50 },
        { title: "Filtro de Ar", description: "Filtro de ar para manter o motor limpo e eficiente.", img: "img/filtro de ar.jpeg", price: 45.00 },
        { title: "Pastilha de Freio", description: "Pastilha de freio de alta qualidade para segurança.", img: "img/pastilha de freio.jpeg", price: 59.99 },
        { title: "Amortecedor", description: "Amortecedor para uma pilotagem mais confortável.", img: "img/amortecedor.jpeg", price: 310.00 },
        { title: "Cabo de Embreagem", description: "Cabo de embreagem durável e resistente.", img: "img/embreagem.jpeg", price: 34.90 },
        { title: "Lanterna Traseira", description: "Lanterna traseira para melhor visibilidade.", img: "img/lanterna.jpeg", price: 69.00 }
    ];

    const productsContainer = document.getElementById('products-container');
    const cartItemsUl = document.getElementById('cart-items');
    const sendOrderBtn = document.getElementById('send-order');
    const cartDrawer = document.getElementById('cart-drawer');
    const cartIconBtn = document.getElementById('cart-icon-btn');
    const cartCloseBtn = document.getElementById('cart-close-btn');
    const searchInput = document.getElementById('search-input');
    const searchButton = document.getElementById('search-button');

    let cart = [];

    function renderProducts(filter = '') {
        productsContainer.innerHTML = '';
        const filtered = products.filter(p => p.title.toLowerCase().includes(filter.toLowerCase()));
        if (filtered.length === 0) {
            productsContainer.innerHTML = '<p style="text-align:center; width:100%;">Nenhum produto encontrado.</p>';
            return;
        }
        filtered.forEach(product => {
            const div = document.createElement('div');
            div.className = 'product';
            div.innerHTML = `
                <img src="${product.img}" alt="${product.title}" />
                <h3>${product.title}</h3>
                <p>${product.description}</p>
                <p class="price">R$ ${product.price.toFixed(2)}</p>
                <button class="btn-add-cart" onclick="addToCart('${product.title}')">Adicionar ao Carrinho</button>
            `;
            productsContainer.appendChild(div);
        });
    }

    function addToCart(productTitle) {
        const found = cart.find(item => item.title === productTitle);
        if (found) {
            found.qty++;
        } else {
            cart.push({ title: productTitle, qty: 1 });
        }
        renderCart();
        openCartDrawer();
    }

    function removeFromCart(productTitle) {
        cart = cart.filter(item => item.title !== productTitle);
        renderCart();
    }

    function renderCart() {
        cartItemsUl.innerHTML = '';
        if (cart.length === 0) {
            cartItemsUl.innerHTML = '<li>O carrinho está vazio.</li>';
            return;
        }
        cart.forEach(item => {
            const li = document.createElement('li');
            li.innerHTML = `
                ${item.title} (x${item.qty}) 
                <button onclick="removeFromCart('${item.title}')">&times;</button>
            `;
            cartItemsUl.appendChild(li);
        });

        const total = cart.reduce((sum, item) => {
            const product = products.find(p => p.title === item.title);
            return sum + (product.price * item.qty);
        }, 0);
        const totalLi = document.createElement('li');
        totalLi.innerHTML = `<strong>Total: R$ ${total.toFixed(2)}</strong>`;
        cartItemsUl.appendChild(totalLi);
    }

    function openCartDrawer() {
        cartDrawer.classList.add('open');
        cartDrawer.setAttribute('aria-hidden', 'false');
    }

    function closeCartDrawer() {
        cartDrawer.classList.remove('open');
        cartDrawer.setAttribute('aria-hidden', 'true');
    }

    sendOrderBtn.addEventListener('click', () => {
        if (cart.length === 0) {
            alert('Seu carrinho está vazio.');
            return;
        }
        let message = "Olá, gostaria de fazer o pedido dos seguintes itens:%0A";
        cart.forEach(item => {
            const product = products.find(p => p.title === item.title);
            message += `- ${item.title} (quantidade: ${item.qty}) - R$ ${product.price.toFixed(2)}%0A`;
        });
        const total = cart.reduce((sum, item) => {
            const product = products.find(p => p.title === item.title);
            return sum + (product.price * item.qty);
        }, 0);
        message += `%0ATotal: R$ ${total.toFixed(2)}%0AObrigado!`;
        const phone = "554"; // número da loja com DDD e código país
        const url = `https://api.whatsapp.com/send?phone=${phone}&text=${message}`;
        window.open(url, '_blank');
    });

    cartIconBtn.addEventListener('click', () => {
        if (cartDrawer.classList.contains('open')) {
            closeCartDrawer();
        } else {
            openCartDrawer();
        }
    });

    cartCloseBtn.addEventListener('click', closeCartDrawer);

    function filterProducts() {
        const query = searchInput.value.trim();
        renderProducts(query);
    }
    searchInput.addEventListener('input', filterProducts);
    searchButton.addEventListener('click', filterProducts);

    renderProducts();
    renderCart();
    window.addToCart = addToCart;
    window.removeFromCart = removeFromCart;
</script>
</body>
</html>
